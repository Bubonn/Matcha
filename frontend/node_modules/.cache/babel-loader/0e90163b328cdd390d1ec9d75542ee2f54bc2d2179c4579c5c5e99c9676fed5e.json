{"ast":null,"code":"var _jsxFileName = \"/Users/jb/projets/my_matcha/frontend/src/pages/Settings/Settings.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { InterestFilter } from '../../components/InterestFilter/InterestFilter';\nimport { SettingsPreference } from '../../components/SettingsPreference/SettingsPreference';\nimport { InputSettings } from '../../components/InputSettings/InputSettings';\nimport { SelectPhotoSetings } from '../../components/SelectPhotoSettings/SelectPhotoSettings';\nimport { useDispatch } from 'react-redux';\nimport { saveAvatar, saveSection } from '../../store/user/user-slice';\nimport { useSelector } from 'react-redux';\nimport { getToken } from '../../utils/auth';\nimport { useNavigate } from 'react-router-dom';\nimport { BackApi } from '../../api/back';\nimport man from '../../assets/settings/man.svg';\nimport woman from '../../assets/settings/woman.svg';\nimport bi from '../../assets/settings/bi.svg';\nimport send from '../../assets/send.svg';\nimport s from './style.module.css';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Settings() {\n  _s();\n  const [selectedDay, setSelectedDay] = useState('');\n  const [selectedMonth, setSelectedMonth] = useState('');\n  const [selectedYear, setSelectedYear] = useState('');\n  const [preference, setPreference] = useState('');\n  const [interests, setInterests] = useState([]);\n  const [description, setDescription] = useState('');\n  const [msgDescription, setMsgDescription] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confPassword, setConfPassword] = useState('');\n  const [photos, setPhotos] = useState([]);\n  const [errPhotos, setErrPhotos] = useState(null);\n  const [msgInput, setMsgInput] = useState(null);\n  const [legalAge, setLegalAge] = useState(true);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const selector = useSelector(store => store.user.user);\n  const maxChar = 200;\n  const days = Array.from(Array(31), (_, index) => index + 1);\n  const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n  const currentYear = new Date().getFullYear();\n  const years = Array.from(Array(100), (_, index) => currentYear - index);\n  const handleChangeDescription = event => {\n    const value = event.target.value;\n    if (value.length <= maxChar) {\n      setDescription(value);\n    } else {\n      setDescription(value.slice(0, maxChar));\n    }\n  };\n  async function handlePhotoSelection(index, file) {\n    const reader = new FileReader();\n    reader.onload = async () => {\n      try {\n        const formData = new FormData();\n        formData.append('photo_profil', file);\n        formData.append('photoId', index + 1);\n        const token = getToken();\n        if (token) {\n          const response = await BackApi.upload(token, formData);\n          if (response.status === 200) {\n            const base64Image = typeof reader.result === 'string' ? reader.result.split(',')[1] : '';\n            const updatedPhotos = [...photos];\n            updatedPhotos[index] = base64Image;\n            setPhotos(updatedPhotos);\n            if (index === 0) {\n              dispatch(saveAvatar(base64Image));\n            }\n            setErrPhotos(null);\n          } else {\n            setErrPhotos(response.data);\n          }\n        }\n      } catch (error) {\n        setErrPhotos('Une erreur est survenue');\n      }\n    };\n    reader.readAsDataURL(file);\n  }\n  ;\n  async function handleRemovePhoto(index) {\n    const updatedPhotos = [...photos];\n    updatedPhotos[index] = null;\n    setPhotos(updatedPhotos);\n    try {\n      const token = getToken();\n      if (token) {\n        await BackApi.removePhoto(index + 1, token);\n      }\n    } catch (error) {\n      setErrPhotos('Une erreur est survenue');\n    }\n  }\n  ;\n  function extractDateParts(dateString) {\n    const date = new Date(dateString);\n    const year = date.getFullYear().toString();\n    const month = String(date.getMonth() + 1);\n    const day = String(date.getDate());\n    return {\n      year,\n      month,\n      day\n    };\n  }\n  async function getInfoUser() {\n    const token = getToken();\n    if (!token) {\n      return navigate('/signin');\n    }\n    const response = await BackApi.getUserById(selector.id, token);\n    if (response.status === 200) {\n      const user = response.data;\n      console.log('user', user);\n      setPreference(user.preference);\n      const {\n        year,\n        month,\n        day\n      } = extractDateParts(user.birth);\n      setSelectedYear(year);\n      setSelectedMonth(month);\n      setSelectedDay(day);\n      setDescription(user.description);\n      setFirstName(user.firstName);\n      setLastName(user.lastName);\n      setEmail(user.email);\n      setUsername(user.username);\n      setInterests(user.interests);\n      const rep = await BackApi.getPhotoById(selector.id, token);\n      setPhotos([rep.data.photo1, rep.data.photo2, rep.data.photo3, rep.data.photo4, rep.data.photo5]);\n    }\n  }\n  async function handleChangeDate(e) {\n    let day = selectedDay,\n      month = selectedMonth,\n      year = selectedYear;\n    if (e.target.name === 'day') {\n      day = e.target.value;\n      setSelectedDay(e.target.value);\n    } else if (e.target.name === 'month') {\n      month = e.target.value;\n      setSelectedMonth(e.target.value);\n    } else {\n      year = e.target.value;\n      setSelectedYear(e.target.value);\n    }\n    if (day !== '' && month !== '' && year !== '') {\n      const selectedDate = new Date(parseInt(year), parseInt(month) - 1, parseInt(day));\n      const eighteenYearsAgo = new Date();\n      eighteenYearsAgo.setFullYear(eighteenYearsAgo.getFullYear() - 18);\n      setLegalAge(selectedDate <= eighteenYearsAgo);\n      if (selectedDate <= eighteenYearsAgo) {\n        const selectedDate = year + '-' + month + '-' + day;\n        const token = getToken();\n        if (token) {\n          const rep = await BackApi.updateBirth(token, selectedDate);\n          if (rep.status === 200) {\n            setLegalAge(true);\n          }\n        }\n      }\n    } else {\n      setLegalAge(true);\n    }\n  }\n  function removeNewlines(inputString) {\n    const pattern = /[\\r\\n]+/g;\n    return inputString.replace(pattern, \" \");\n  }\n  async function sendDescription() {\n    const token = getToken();\n    if (token) {\n      const newDescription = removeNewlines(description);\n      const rep = await BackApi.updateDescripion(token, newDescription);\n      if (rep.status === 200) {\n        setMsgDescription('Description updated');\n      }\n    }\n  }\n  async function handleClickUsername() {\n    const token = getToken();\n    if (token) {\n      const rep = await BackApi.updateUsername(token, username);\n      if (rep.status === 200) {\n        setMsgInput(rep.data.message);\n      } else {\n        setMsgInput(rep);\n      }\n    }\n  }\n  async function handleClickFirstName() {\n    const token = getToken();\n    if (token) {\n      const rep = await BackApi.updateFirstName(token, firstName);\n      if (rep.status === 200) {\n        setMsgInput(rep.data.message);\n      } else {\n        setMsgInput(rep);\n      }\n    }\n  }\n  async function handleClickLastName() {\n    const token = getToken();\n    if (token) {\n      const rep = await BackApi.updateLastName(token, lastName);\n      if (rep.status === 200) {\n        setMsgInput(rep.data.message);\n      } else {\n        setMsgInput(rep);\n      }\n    }\n  }\n  async function handleClickEmail() {\n    const token = getToken();\n    if (token) {\n      const rep = await BackApi.upd(token, lastName);\n      if (rep.status === 200) {\n        setMsgInput(rep.data.message);\n      } else {\n        setMsgInput(rep);\n      }\n    }\n  }\n  useEffect(() => {\n    dispatch(saveSection('Settings'));\n    if (selector.id !== 0) {\n      getInfoUser();\n    }\n  }, [selector.id]);\n  if (selector.id === 0) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: s.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.userInfo,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.leftCtn,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.birth,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: s.title,\n            children: \"Date of birth\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: s.select,\n            name: \"day\",\n            value: selectedDay,\n            onChange: handleChangeDate,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Day\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 8\n            }, this), days.map(day => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: day,\n              children: day\n            }, day, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 9\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: s.select,\n            name: \"month\",\n            value: selectedMonth,\n            onChange: handleChangeDate,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Month\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 8\n            }, this), months.map((month, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: index + 1,\n              children: month\n            }, index + 1, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 9\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: s.select,\n            name: \"year\",\n            value: selectedYear,\n            onChange: handleChangeDate,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Year\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 8\n            }, this), years.map(year => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: year,\n              children: year\n            }, year, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 9\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 6\n        }, this), !legalAge && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: s.error,\n          children: \"You must be of legal age to create an account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.preference,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: s.title,\n            children: \"Preference\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.choicePreference,\n            children: [/*#__PURE__*/_jsxDEV(SettingsPreference, {\n              name: \"man\",\n              logo: man,\n              isSelected: preference === 'man',\n              setSelectedPreference: setPreference\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(SettingsPreference, {\n              name: \"woman\",\n              logo: woman,\n              isSelected: preference === 'woman',\n              setSelectedPreference: setPreference\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(SettingsPreference, {\n              name: \"both\",\n              logo: bi,\n              isSelected: preference === 'both',\n              setSelectedPreference: setPreference\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.description,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: s.title,\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.textBox,\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: s.textAera,\n              placeholder: \"Enter a brief description of yourself...\",\n              name: \"description\",\n              value: description,\n              onChange: handleChangeDescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.footerDescription,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: s.char,\n              children: [description === null || description === void 0 ? void 0 : description.length, \"/\", maxChar]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: s.sendButton,\n              onClick: sendDescription,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: send,\n                alt: \"sendButton\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 8\n            }, this), msgDescription && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: s.msgDescription,\n              children: msgDescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.rightCtn,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.hobbies,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: s.title,\n            children: \"Hobbies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.hobbies,\n            children: /*#__PURE__*/_jsxDEV(InterestFilter, {\n              interests: interests,\n              setInterests: setInterests,\n              search: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.information,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: s.title,\n            children: \"User information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.input,\n            children: [/*#__PURE__*/_jsxDEV(InputSettings, {\n              handleClick: handleClickFirstName,\n              name: \"firstName\",\n              text: true,\n              content: firstName,\n              setContent: setFirstName,\n              placeholder: \"First name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(InputSettings, {\n              handleClick: handleClickLastName,\n              name: \"lastName\",\n              text: true,\n              content: lastName,\n              setContent: setLastName,\n              placeholder: \"Last name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.input,\n            children: [/*#__PURE__*/_jsxDEV(InputSettings, {\n              handleClick: handleClickEmail,\n              name: \"email\",\n              text: true,\n              content: email,\n              setContent: setEmail,\n              placeholder: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(InputSettings, {\n              handleClick: handleClickUsername,\n              name: \"username\",\n              text: true,\n              content: username,\n              setContent: setUsername,\n              placeholder: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.input,\n            children: [/*#__PURE__*/_jsxDEV(InputSettings, {\n              handleClick: handleClickUsername,\n              name: \"password\",\n              text: false,\n              content: password,\n              setContent: setPassword,\n              placeholder: \"New password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(InputSettings, {\n              handleClick: handleClickUsername,\n              name: \"confirmPassword\",\n              text: false,\n              content: confPassword,\n              setContent: setConfPassword,\n              placeholder: \"Confirm new password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 7\n          }, this), msgInput && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: s.msgInput,\n            children: msgInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 20\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.photos,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: s.title,\n        children: \"Photos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 5\n      }, this), errPhotos && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: s.err,\n        children: errPhotos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.choicePhoto,\n        children: Array.from({\n          length: 5\n        }, (_, index) => /*#__PURE__*/_jsxDEV(SelectPhotoSetings, {\n          index: index,\n          photo: photos[index],\n          handlePhotoSelection: file => handlePhotoSelection(index, file),\n          handleRemovePhoto: () => handleRemovePhoto(index)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 251,\n    columnNumber: 3\n  }, this);\n}\n_s(Settings, \"BKAyMSIZVmYzIFUPOzvXz8PkMLs=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n_c = Settings;\nvar _c;\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"names":["useEffect","useState","InterestFilter","SettingsPreference","InputSettings","SelectPhotoSetings","useDispatch","saveAvatar","saveSection","useSelector","getToken","useNavigate","BackApi","man","woman","bi","send","s","Fragment","_Fragment","jsxDEV","_jsxDEV","Settings","_s","selectedDay","setSelectedDay","selectedMonth","setSelectedMonth","selectedYear","setSelectedYear","preference","setPreference","interests","setInterests","description","setDescription","msgDescription","setMsgDescription","firstName","setFirstName","lastName","setLastName","username","setUsername","email","setEmail","password","setPassword","confPassword","setConfPassword","photos","setPhotos","errPhotos","setErrPhotos","msgInput","setMsgInput","legalAge","setLegalAge","navigate","dispatch","selector","store","user","maxChar","days","Array","from","_","index","months","currentYear","Date","getFullYear","years","handleChangeDescription","event","value","target","length","slice","handlePhotoSelection","file","reader","FileReader","onload","formData","FormData","append","token","response","upload","status","base64Image","result","split","updatedPhotos","data","error","readAsDataURL","handleRemovePhoto","removePhoto","extractDateParts","dateString","date","year","toString","month","String","getMonth","day","getDate","getInfoUser","getUserById","id","console","log","birth","rep","getPhotoById","photo1","photo2","photo3","photo4","photo5","handleChangeDate","e","name","selectedDate","parseInt","eighteenYearsAgo","setFullYear","updateBirth","removeNewlines","inputString","pattern","replace","sendDescription","newDescription","updateDescripion","handleClickUsername","updateUsername","message","handleClickFirstName","updateFirstName","handleClickLastName","updateLastName","handleClickEmail","upd","className","container","children","userInfo","leftCtn","title","fileName","_jsxFileName","lineNumber","columnNumber","select","onChange","map","choicePreference","logo","isSelected","setSelectedPreference","textBox","textAera","placeholder","footerDescription","char","sendButton","onClick","src","alt","rightCtn","hobbies","search","information","input","handleClick","text","content","setContent","err","choicePhoto","photo","_c","$RefreshReg$"],"sources":["/Users/jb/projets/my_matcha/frontend/src/pages/Settings/Settings.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { InterestFilter } from '../../components/InterestFilter/InterestFilter';\nimport { SettingsPreference } from '../../components/SettingsPreference/SettingsPreference';\nimport { InputSettings } from '../../components/InputSettings/InputSettings';\nimport { SelectPhotoSetings } from '../../components/SelectPhotoSettings/SelectPhotoSettings';\nimport { useDispatch } from 'react-redux';\nimport { saveAvatar, saveSection } from '../../store/user/user-slice';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../store';\nimport { getToken } from '../../utils/auth';\nimport { useNavigate } from 'react-router-dom';\nimport { BackApi } from '../../api/back';\nimport man from '../../assets/settings/man.svg'\nimport woman from '../../assets/settings/woman.svg'\nimport bi from '../../assets/settings/bi.svg'\nimport send from '../../assets/send.svg'\nimport s from './style.module.css'\n\nexport function Settings() {\n\tconst [selectedDay, setSelectedDay] = useState('');\n\tconst [selectedMonth, setSelectedMonth] = useState('');\n\tconst [selectedYear, setSelectedYear] = useState('');\n\tconst [preference, setPreference] = useState('');\n\tconst [interests, setInterests] = useState<number[]>([]);\n\tconst [description, setDescription] = useState<string>('');\n\tconst [msgDescription, setMsgDescription] = useState<string>('');\n\tconst [firstName, setFirstName] = useState<string>('');\n\tconst [lastName, setLastName] = useState<string>('');\n\tconst [username, setUsername] = useState<string>('');\n\tconst [email, setEmail] = useState<string>('');\n\tconst [password, setPassword] = useState<string>('');\n\tconst [confPassword, setConfPassword] = useState<string>('');\n\tconst [photos, setPhotos] = useState<Array<any>>([]);\n\tconst [errPhotos, setErrPhotos] = useState<string | null>(null);\n\tconst [msgInput, setMsgInput] = useState<string | null>(null);\n\tconst [legalAge, setLegalAge] = useState(true);\n\tconst navigate = useNavigate();\n\tconst dispatch = useDispatch();\n\tconst selector = useSelector((store: RootState) => store.user.user);\n\tconst maxChar = 200;\n\n\tconst days = Array.from(Array(31), (_, index) => index + 1);\n\tconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July',\n\t\t\t\t\t'August', 'September', 'October', 'November', 'December'];\n\tconst currentYear = new Date().getFullYear();\n\tconst years = Array.from(Array(100), (_, index) => currentYear - index);\n\n\tconst handleChangeDescription = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n\t\tconst value = event.target.value;\n\t\tif (value.length <= maxChar) {\n\t\t\tsetDescription(value);\n\t\t} else {\n\t\t\tsetDescription(value.slice(0, maxChar));\n\t\t}\n\t};\n\n\tasync function handlePhotoSelection(index: number, file: File) {\n\t\tconst reader = new FileReader();\n\t\treader.onload = async () => {\n\t\t\ttry {\n\t\t\t\tconst formData: any = new FormData();\n\t\t\t\tformData.append('photo_profil', file);\n\t\t\t\tformData.append('photoId', index + 1);\n\n\t\t\t\tconst token = getToken();\n\t\t\t\tif (token) {\n\t\t\t\t\tconst response = await BackApi.upload(token, formData);\n\t\t\t\t\tif (response.status === 200) {\n\t\t\t\t\t\tconst base64Image = typeof reader.result === 'string' ? reader.result.split(',')[1] : '';\n\t\t\t\t\t\tconst updatedPhotos = [...photos];\n\t\t\t\t\t\tupdatedPhotos[index] = base64Image;\n\t\t\t\t\t\tsetPhotos(updatedPhotos);\n\t\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\t\tdispatch(saveAvatar(base64Image));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetErrPhotos(null);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetErrPhotos(response.data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tsetErrPhotos('Une erreur est survenue');\n\t\t\t}\n\t\t};\n\t\treader.readAsDataURL(file);\n\t};\n\n\n\tasync function handleRemovePhoto(index: number) {\n\t\tconst updatedPhotos = [...photos];\n\t\tupdatedPhotos[index] = null;\n\t\tsetPhotos(updatedPhotos);\n\t\ttry {\n\t\t\tconst token = getToken();\n\n\t\t\tif (token) {\n\t\t\t\tawait BackApi.removePhoto(index + 1, token)\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tsetErrPhotos('Une erreur est survenue');\n\t\t}\n\t};\n\n\tfunction extractDateParts(dateString: string) {\n\t\tconst date = new Date(dateString);\n\t\tconst year = date.getFullYear().toString();\n\t\tconst month = String(date.getMonth() + 1);\n\t\tconst day = String(date.getDate());\n\t\treturn { year, month, day };\n\t}\n\n\tasync function getInfoUser() {\n\t\tconst token = getToken();\n\t\tif (!token) {\n\t\t\treturn navigate('/signin');\n\t\t}\n\t\tconst response = await BackApi.getUserById(selector.id, token);\n\t\tif (response.status === 200) {\n\t\t\tconst user = response.data;\n\t\t\tconsole.log('user', user);\n\t\t\tsetPreference(user.preference);\n\t\t\tconst { year, month, day } = extractDateParts(user.birth);\n\t\t\tsetSelectedYear(year);\n\t\t\tsetSelectedMonth(month);\n\t\t\tsetSelectedDay(day);\n\t\t\tsetDescription(user.description);\n\t\t\tsetFirstName(user.firstName);\n\t\t\tsetLastName(user.lastName);\n\t\t\tsetEmail(user.email);\n\t\t\tsetUsername(user.username);\n\t\t\tsetInterests(user.interests);\n\t\t\tconst rep = await BackApi.getPhotoById(selector.id, token);\n\t\t\tsetPhotos([rep.data.photo1, rep.data.photo2, rep.data.photo3, rep.data.photo4, rep.data.photo5]);\n\t\t}\n\t}\n\n\tasync function handleChangeDate(e: React.ChangeEvent<HTMLSelectElement>) {\n\t\tlet day = selectedDay, month = selectedMonth, year = selectedYear;\n\t\tif (e.target.name === 'day') {\n\t\t\tday = e.target.value;\n\t\t\tsetSelectedDay(e.target.value)\n\t\t} else if (e.target.name === 'month') {\n\t\t\tmonth = e.target.value;\n\t\t\tsetSelectedMonth(e.target.value)\n\t\t} else {\n\t\t\tyear = e.target.value;\n\t\t\tsetSelectedYear(e.target.value)\n\t\t}\n\n\n\t\tif (day !== '' && month !== '' && year !== '') {\n\t\t\tconst selectedDate = new Date(\n\t\t\t\tparseInt(year),\n\t\t\t\tparseInt(month) - 1,\n\t\t\t\tparseInt(day)\n\t\t\t\t);\n\t\t\tconst eighteenYearsAgo = new Date();\n\t\t\teighteenYearsAgo.setFullYear(eighteenYearsAgo.getFullYear() - 18);\n\t\t\tsetLegalAge(selectedDate <= eighteenYearsAgo);\n\t\t\tif (selectedDate <= eighteenYearsAgo) {\n\t\t\t\tconst selectedDate: string = year + '-' + month + '-' +day;\n\t\t\t\tconst token = getToken();\n\t\t\t\tif (token) {\n\t\t\t\t\tconst rep = await BackApi.updateBirth(token, selectedDate);\n\t\t\t\t\tif (rep.status === 200) {\n\t\t\t\t\t\tsetLegalAge(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tsetLegalAge(true);\n\t\t}\n\t}\n\n\tfunction removeNewlines(inputString: string): string {\n\t\tconst pattern = /[\\r\\n]+/g;\n\t\treturn inputString.replace(pattern, \" \");\n\t}\n\n\tasync function sendDescription() {\n\t\tconst token = getToken();\n\t\tif (token) {\n\t\t\tconst newDescription = removeNewlines(description);\n\t\t\tconst rep = await BackApi.updateDescripion(token, newDescription);\n\t\t\tif (rep.status === 200) {\n\t\t\t\tsetMsgDescription('Description updated');\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function handleClickUsername() {\n\t\tconst token = getToken();\n\t\tif (token) {\n\t\t\tconst rep = await BackApi.updateUsername(token, username);\n\t\t\tif (rep.status === 200) {\n\t\t\t\tsetMsgInput(rep.data.message);\n\t\t\t} else {\n\t\t\t\tsetMsgInput(rep);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function handleClickFirstName() {\n\t\tconst token = getToken();\n\t\tif (token) {\n\t\t\tconst rep = await BackApi.updateFirstName(token, firstName);\n\t\t\tif (rep.status === 200) {\n\t\t\t\tsetMsgInput(rep.data.message);\n\t\t\t} else {\n\t\t\t\tsetMsgInput(rep);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function handleClickLastName() {\n\t\tconst token = getToken();\n\t\tif (token) {\n\t\t\tconst rep = await BackApi.updateLastName(token, lastName);\n\t\t\tif (rep.status === 200) {\n\t\t\t\tsetMsgInput(rep.data.message);\n\t\t\t} else {\n\t\t\t\tsetMsgInput(rep);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function handleClickEmail() {\n\t\tconst token = getToken();\n\t\tif (token) {\n\t\t\tconst rep = await BackApi.upd(token, lastName);\n\t\t\tif (rep.status === 200) {\n\t\t\t\tsetMsgInput(rep.data.message);\n\t\t\t} else {\n\t\t\t\tsetMsgInput(rep);\n\t\t\t}\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tdispatch(saveSection('Settings'));\n\t\tif (selector.id !== 0) {\n\t\t\tgetInfoUser();\n\t\t}\n\t}, [selector.id])\n\n\tif (selector.id === 0) {\n\t\treturn (<></>);\n\t}\n\n\treturn (\n\t\t<div className={s.container}>\n\t\t\t<div className={s.userInfo}>\n\t\t\t\t<div className={s.leftCtn}>\n\t\t\t\t\t<div className={s.birth}>\n\t\t\t\t\t\t<span className={s.title}>Date of birth</span>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclassName={s.select}\n\t\t\t\t\t\t\tname=\"day\"\n\t\t\t\t\t\t\tvalue={selectedDay}\n\t\t\t\t\t\t\tonChange={handleChangeDate}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">Day</option>\n\t\t\t\t\t\t\t{days.map((day) => (\n\t\t\t\t\t\t\t\t<option key={day} value={day}>\n\t\t\t\t\t\t\t\t\t{day}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclassName={s.select}\n\t\t\t\t\t\t\tname=\"month\"\n\t\t\t\t\t\t\tvalue={selectedMonth}\n\t\t\t\t\t\t\tonChange={handleChangeDate}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">Month</option>\n\t\t\t\t\t\t\t{months.map((month, index) => (\n\t\t\t\t\t\t\t\t<option key={index + 1} value={index + 1}>\n\t\t\t\t\t\t\t\t\t{month}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclassName={s.select}\n\t\t\t\t\t\t\tname=\"year\"\n\t\t\t\t\t\t\tvalue={selectedYear}\n\t\t\t\t\t\t\tonChange={handleChangeDate}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">Year</option>\n\t\t\t\t\t\t\t{years.map((year) => (\n\t\t\t\t\t\t\t\t<option key={year} value={year}>\n\t\t\t\t\t\t\t\t\t{year}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t{!legalAge && <span className={s.error}>You must be of legal age to create an account</span>}\n\t\t\t\t\t<div className={s.preference}>\n\t\t\t\t\t\t<span className={s.title}>Preference</span>\n\t\t\t\t\t\t<div className={s.choicePreference}>\n\t\t\t\t\t\t\t<SettingsPreference name='man' logo={man} isSelected={preference === 'man'} setSelectedPreference={setPreference} />\n\t\t\t\t\t\t\t<SettingsPreference name='woman' logo={woman} isSelected={preference === 'woman'} setSelectedPreference={setPreference} />\n\t\t\t\t\t\t\t<SettingsPreference name='both' logo={bi} isSelected={preference === 'both'} setSelectedPreference={setPreference} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={s.description}>\n\t\t\t\t\t\t<span className={s.title}>Description</span>\n\t\t\t\t\t\t<div className={s.textBox}>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tclassName={s.textAera}\n\t\t\t\t\t\t\t\tplaceholder='Enter a brief description of yourself...'\n\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\t\tonChange={handleChangeDescription}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={s.footerDescription}>\n\t\t\t\t\t\t\t<p className={s.char}>{description?.length}/{maxChar}</p>\n\t\t\t\t\t\t\t<div className={s.sendButton} onClick={sendDescription}>\n\t\t\t\t\t\t\t\t<img src={send} alt='sendButton' />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{msgDescription && <span className={s.msgDescription}>{msgDescription}</span>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={s.rightCtn}>\n\t\t\t\t\t<div className={s.hobbies}>\n\t\t\t\t\t\t<span className={s.title}>Hobbies</span>\n\t\t\t\t\t\t<div className={s.hobbies}>\n\t\t\t\t\t\t\t<InterestFilter\n\t\t\t\t\t\t\t\tinterests={interests}\n\t\t\t\t\t\t\t\tsetInterests={setInterests}\n\t\t\t\t\t\t\t\tsearch={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={s.information}>\n\t\t\t\t\t\t<span className={s.title}>User information</span>\n\t\t\t\t\t\t<div className={s.input}>\n\t\t\t\t\t\t\t<InputSettings handleClick={handleClickFirstName} name='firstName' text={true} content={firstName} setContent={setFirstName} placeholder='First name'/>\n\t\t\t\t\t\t\t<InputSettings handleClick={handleClickLastName} name='lastName' text={true} content={lastName} setContent={setLastName} placeholder='Last name'/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={s.input}>\n\t\t\t\t\t\t\t<InputSettings handleClick={handleClickEmail} name='email' text={true} content={email} setContent={setEmail} placeholder='Email'/>\n\t\t\t\t\t\t\t<InputSettings handleClick={handleClickUsername} name='username' text={true} content={username} setContent={setUsername} placeholder='Username'/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={s.input}>\n\t\t\t\t\t\t\t<InputSettings handleClick={handleClickUsername} name='password' text={false} content={password} setContent={setPassword} placeholder='New password'/>\n\t\t\t\t\t\t\t<InputSettings handleClick={handleClickUsername} name='confirmPassword' text={false} content={confPassword} setContent={setConfPassword} placeholder='Confirm new password'/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{msgInput && <span className={s.msgInput}>{msgInput}</span>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={s.photos}>\n\t\t\t\t<span className={s.title}>Photos</span>\n\t\t\t\t{errPhotos && <span className={s.err}>{errPhotos}</span>}\n\t\t\t\t<div className={s.choicePhoto}>\n\t\t\t\t\t{Array.from({ length: 5 }, (_, index) => (\n\t\t\t\t\t\t<SelectPhotoSetings\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\tphoto={photos[index]}\n\t\t\t\t\t\t\thandlePhotoSelection={(file: File) => handlePhotoSelection(index, file)}\n\t\t\t\t\t\t\thandleRemovePhoto={() => handleRemovePhoto(index)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}