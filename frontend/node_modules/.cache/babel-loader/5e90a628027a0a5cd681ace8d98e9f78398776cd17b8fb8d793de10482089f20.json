{"ast":null,"code":"export function createCookie(name, value) {\n  // document.cookie = name + \"=\" + value + \"; SameSite=None; secure; path=/\";\n  document.cookie = name + \"=\" + value + \"; SameSite=None; path=/\";\n}\nexport function deleteCookie(name) {\n  // eslint-disable-next-line\n  document.cookie = name + \"=\" + '; SameSite=None; secure; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/';\n}\nexport function getCookieByName(name) {\n  name = name + \"=\";\n  var list = document.cookie.split(';');\n  for (var i = 0; i < list.length; i++) {\n    var c = list[i];\n    while (c.charAt(0) === ' ') {\n      c = c.substring(1, c.length);\n    }\n    if (c.indexOf(name) === 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return null;\n}\nexport function parseJwt(token) {\n  var base64Url = token.split('.')[1];\n  var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  var jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function (c) {\n    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n  }).join(''));\n  return JSON.parse(jsonPayload);\n}\nexport function getToken() {\n  const token = getCookieByName('token');\n  if (!token) {\n    return null;\n  }\n  return token;\n}","map":{"version":3,"names":["createCookie","name","value","document","cookie","deleteCookie","getCookieByName","list","split","i","length","c","charAt","substring","indexOf","parseJwt","token","base64Url","base64","replace","jsonPayload","decodeURIComponent","window","atob","map","charCodeAt","toString","slice","join","JSON","parse","getToken"],"sources":["/Users/jb/projets/my_matcha/frontend/src/utils/auth.tsx"],"sourcesContent":["export function createCookie(name: string, value: string) {\n\t// document.cookie = name + \"=\" + value + \"; SameSite=None; secure; path=/\";\n\tdocument.cookie = name + \"=\" + value + \"; SameSite=None; path=/\";\n}\n\nexport function deleteCookie(name: string) {\n\t// eslint-disable-next-line\n\tdocument.cookie = name + \"=\" + '; SameSite=None; secure; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/';\n}\n\nexport function getCookieByName(name: string) {\n\tname = name + \"=\";\n\tvar list = document.cookie.split(';');\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar c = list[i];\n\t\twhile (c.charAt(0) === ' ') {\n\t\t\tc = c.substring(1, c.length);\n\t\t}\n\t\tif (c.indexOf(name) === 0) {\n\t\t\treturn c.substring(name.length, c.length);\n\t\t}\n\t}\n\treturn null;\n}\n\nexport function parseJwt (token: string) {\n\tvar base64Url = token.split('.')[1];\n\tvar base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n\tvar jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function(c) {\n\t\treturn '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n\t}).join(''));\n\n\treturn JSON.parse(jsonPayload);\n}\n\nexport function getToken() {\n\tconst token: string | null = getCookieByName('token');\n\n\tif (!token) {\n\t\treturn null;\n\t}\n\treturn token;\n}"],"mappings":"AAAA,OAAO,SAASA,YAAYA,CAACC,IAAY,EAAEC,KAAa,EAAE;EACzD;EACAC,QAAQ,CAACC,MAAM,GAAGH,IAAI,GAAG,GAAG,GAAGC,KAAK,GAAG,yBAAyB;AACjE;AAEA,OAAO,SAASG,YAAYA,CAACJ,IAAY,EAAE;EAC1C;EACAE,QAAQ,CAACC,MAAM,GAAGH,IAAI,GAAG,GAAG,GAAG,wEAAwE;AACxG;AAEA,OAAO,SAASK,eAAeA,CAACL,IAAY,EAAE;EAC7CA,IAAI,GAAGA,IAAI,GAAG,GAAG;EACjB,IAAIM,IAAI,GAAGJ,QAAQ,CAACC,MAAM,CAACI,KAAK,CAAC,GAAG,CAAC;EACrC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,IAAI,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;IACrC,IAAIE,CAAC,GAAGJ,IAAI,CAACE,CAAC,CAAC;IACf,OAAOE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MAC3BD,CAAC,GAAGA,CAAC,CAACE,SAAS,CAAC,CAAC,EAAEF,CAAC,CAACD,MAAM,CAAC;IAC7B;IACA,IAAIC,CAAC,CAACG,OAAO,CAACb,IAAI,CAAC,KAAK,CAAC,EAAE;MAC1B,OAAOU,CAAC,CAACE,SAAS,CAACZ,IAAI,CAACS,MAAM,EAAEC,CAAC,CAACD,MAAM,CAAC;IAC1C;EACD;EACA,OAAO,IAAI;AACZ;AAEA,OAAO,SAASK,QAAQA,CAAEC,KAAa,EAAE;EACxC,IAAIC,SAAS,GAAGD,KAAK,CAACR,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACnC,IAAIU,MAAM,GAAGD,SAAS,CAACE,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;EAC5D,IAAIC,WAAW,GAAGC,kBAAkB,CAACC,MAAM,CAACC,IAAI,CAACL,MAAM,CAAC,CAACV,KAAK,CAAC,EAAE,CAAC,CAACgB,GAAG,CAAC,UAASb,CAAC,EAAE;IAClF,OAAO,GAAG,GAAG,CAAC,IAAI,GAAGA,CAAC,CAACc,UAAU,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAC;EAC7D,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAAC;EAEZ,OAAOC,IAAI,CAACC,KAAK,CAACV,WAAW,CAAC;AAC/B;AAEA,OAAO,SAASW,QAAQA,CAAA,EAAG;EAC1B,MAAMf,KAAoB,GAAGV,eAAe,CAAC,OAAO,CAAC;EAErD,IAAI,CAACU,KAAK,EAAE;IACX,OAAO,IAAI;EACZ;EACA,OAAOA,KAAK;AACb"},"metadata":{},"sourceType":"module","externalDependencies":[]}