{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = 'http://localhost:3000';\nexport class BackApi {\n  static async getAllUsers() {\n    const rep = await axios.get(`${BASE_URL}/users/users`);\n    // .then(rep => rep)\n    // .catch(error => error)\n    return rep;\n  }\n  static async getUserById(id, token) {\n    // console.log('TEST Call api id', id);\n    try {\n      const rep = await axios.get(`${BASE_URL}/users/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return rep;\n    } catch (error) {\n      return error.response.data.error;\n    }\n  }\n  static async signup(infoUser) {\n    try {\n      const response = await axios.post(`${BASE_URL}/login/signup`, infoUser);\n      return response;\n    } catch (error) {\n      return error.response.data.error;\n    }\n  }\n  static async signin(infoUser) {\n    try {\n      const response = await axios.post(`${BASE_URL}/login/signin`, infoUser);\n      return response;\n    } catch (error) {\n      return error.response.data.error;\n    }\n  }\n  static async upload(userId, formData) {\n    try {\n      const response = await axios.post(`http://localhost:3000/uploads/${userId}`, formData);\n      return response;\n    } catch (error) {\n      return error.response.data.error;\n    }\n  }\n  static async removePhoto(userId, photoId) {\n    try {\n      const response = await axios.delete(`http://localhost:3000/uploads/${userId}?photoId=${photoId}`, {\n        data: {\n          photoId\n        }\n      });\n      return response;\n    } catch (error) {\n      return error.response.data.error;\n    }\n  }\n  static async checkToken(token) {\n    try {\n      const response = await axios.get(`http://localhost:3000/login/token`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response;\n    } catch (error) {\n      return error.response.data.error;\n    }\n  }\n  static async updateBirth(token, date) {\n    try {\n      const response = await axios.post(`http://localhost:3000/users/birthDate`, {\n        \"birthDate\": date\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response;\n    } catch (error) {\n      return error.response.data.error;\n    }\n  }\n  static async updateGender(token, gender) {\n    try {\n      const response = await axios.post(`http://localhost:3000/users/gender`, {\n        \"gender\": gender\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response;\n    } catch (error) {\n      return error.response.data.error;\n    }\n  }\n  static async updatePreference(token, preference) {\n    try {\n      const response = await axios.post(`http://localhost:3000/users/preference`, {\n        \"preference\": preference\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response;\n    } catch (error) {\n      return error.response.data.error;\n    }\n  }\n  static async updateDescripion(token, description) {\n    try {\n      const response = await axios.post(`http://localhost:3000/users/preference`, {\n        \"description\": description\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response;\n    } catch (error) {\n      return error.response.data.error;\n    }\n  }\n}","map":{"version":3,"names":["axios","BASE_URL","BackApi","getAllUsers","rep","get","getUserById","id","token","headers","Authorization","error","response","data","signup","infoUser","post","signin","upload","userId","formData","removePhoto","photoId","delete","checkToken","updateBirth","date","updateGender","gender","updatePreference","preference","updateDescripion","description"],"sources":["/Users/jb/projets/my_matcha/frontend/src/api/back.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = 'http://localhost:3000';\n\nexport class BackApi {\n\tstatic async getAllUsers() {\n\t\tconst rep = await axios.get(`${BASE_URL}/users/users`)\n\t\t\t// .then(rep => rep)\n\t\t\t// .catch(error => error)\n\t\treturn rep;\n\t}\n\n\tstatic async getUserById(id: number, token: string) {\n\t\t// console.log('TEST Call api id', id);\n\t\ttry {\n\t\t\tconst rep = await axios.get(`${BASE_URL}/users/${id}`, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn rep;\n\t\t} catch (error: any) {\n\t\t\treturn error.response.data.error;\n\t\t}\n\t}\n\n\tstatic async signup(infoUser: any) {\n\t\ttry {\n\t\t\tconst response = await axios.post(`${BASE_URL}/login/signup`, infoUser);\n\t\t\treturn response;\n\t\t} catch (error: any) {\n\t\t\treturn error.response.data.error;\n\t\t}\n\t}\n\n\tstatic async signin(infoUser: any) {\n\t\ttry {\n\t\t\tconst response = await axios.post(`${BASE_URL}/login/signin`, infoUser);\n\t\t\treturn response;\n\t\t} catch (error: any) {\n\t\t\treturn error.response.data.error;\n\t\t}\n\t}\n\n\tstatic async upload(userId: number, formData: any) {\n\t\ttry {\n\t\t\tconst response = await axios.post(`http://localhost:3000/uploads/${userId}`, formData);\n\t\t\treturn response;\n\t\t} catch (error: any) {\n\t\t\treturn error.response.data.error;\n\t\t}\n\t}\n\n\tstatic async removePhoto(userId: number, photoId: any) {\n\t\ttry {\n\t\t\tconst response = await axios.delete(`http://localhost:3000/uploads/${userId}?photoId=${photoId}`, { data: { photoId } });\n\t\t\treturn response;\n\t\t} catch (error: any) {\n\t\t\treturn error.response.data.error;\n\t\t}\n\t}\n\n\tstatic async checkToken(token : string) {\n\t\ttry {\n\t\t\tconst response = await axios.get(`http://localhost:3000/login/token`, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn response;\n\t\t} catch (error: any) {\n\t\t\treturn error.response.data.error;\n\t\t}\n\t}\n\n\tstatic async updateBirth(token: string, date: any) {\n\t\ttry {\n\t\t\tconst response = await axios.post(`http://localhost:3000/users/birthDate`, {\n\t\t\t\t\"birthDate\": date\n\t\t\t}, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn response;\n\t\t} catch (error: any) {\n\t\t\treturn error.response.data.error;\n\t\t}\n\t}\n\n\tstatic async updateGender(token: string, gender: string) {\n\t\ttry {\n\t\t\tconst response = await axios.post(`http://localhost:3000/users/gender`, {\n\t\t\t\t\"gender\": gender\n\t\t\t}, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn response;\n\t\t} catch (error: any) {\n\t\t\treturn error.response.data.error;\n\t\t}\n\t}\n\n\tstatic async updatePreference(token: string, preference: string) {\n\t\ttry {\n\t\t\tconst response = await axios.post(`http://localhost:3000/users/preference`, {\n\t\t\t\t\"preference\": preference\n\t\t\t}, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn response;\n\t\t} catch (error: any) {\n\t\t\treturn error.response.data.error;\n\t\t}\n\t}\n\n\tstatic async updateDescripion(token: string, description: string) {\n\t\ttry {\n\t\t\tconst response = await axios.post(`http://localhost:3000/users/preference`, {\n\t\t\t\t\"description\": description\n\t\t\t}, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn response;\n\t\t} catch (error: any) {\n\t\t\treturn error.response.data.error;\n\t\t}\n\t}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}