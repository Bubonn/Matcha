{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { getCookieByName } from \"../../utils/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport { BackApi } from \"../../api/back\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function CheckToken() {\n  _s();\n  const navigate = useNavigate();\n  async function checkToken() {\n    const token = getCookieByName('token');\n    console.log('TOKEN =', token);\n    if (!token) {\n      navigate('/signin');\n    } else {\n      const rep = await BackApi.checkToken(token);\n      if (rep.status !== 200) {\n        navigate('/signin');\n      }\n    }\n  }\n  useEffect(() => {\n    checkToken();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n}\n_s(CheckToken, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = CheckToken;\nvar _c;\n$RefreshReg$(_c, \"CheckToken\");","map":{"version":3,"names":["useEffect","getCookieByName","useNavigate","BackApi","Fragment","_Fragment","jsxDEV","_jsxDEV","CheckToken","_s","navigate","checkToken","token","console","log","rep","status","_c","$RefreshReg$"],"sources":["/Users/jb/projets/my_matcha/frontend/src/components/CheckToken/CheckToken.tsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { getCookieByName } from \"../../utils/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport { BackApi } from \"../../api/back\";\n\nexport function CheckToken() {\n\n\tconst navigate = useNavigate();\n\n\tasync function checkToken() {\n\t\tconst token: string | null = getCookieByName('token');\n\t\tconsole.log('TOKEN =', token);\n\t\tif (!token) {\n\t\t\tnavigate('/signin');\n\t\t}\n\t\telse {\n\t\t\tconst rep = await BackApi.checkToken(token);\n\t\t\tif (rep.status !== 200) {\n\t\t\t\tnavigate('/signin');\n\t\t\t}\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tcheckToken();\n\t}, [])\n\n\treturn (\n\t\t<></>\n\t);\n}"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,eAAe,QAAQ,kBAAkB;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,gBAAgB;AAAC,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEzC,OAAO,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EAE5B,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9B,eAAeS,UAAUA,CAAA,EAAG;IAC3B,MAAMC,KAAoB,GAAGX,eAAe,CAAC,OAAO,CAAC;IACrDY,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,KAAK,CAAC;IAC7B,IAAI,CAACA,KAAK,EAAE;MACXF,QAAQ,CAAC,SAAS,CAAC;IACpB,CAAC,MACI;MACJ,MAAMK,GAAG,GAAG,MAAMZ,OAAO,CAACQ,UAAU,CAACC,KAAK,CAAC;MAC3C,IAAIG,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;QACvBN,QAAQ,CAAC,SAAS,CAAC;MACpB;IACD;EACD;EAEAV,SAAS,CAAC,MAAM;IACfW,UAAU,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,oBACCJ,OAAA,CAAAF,SAAA,mBAAI,CAAC;AAEP;AAACI,EAAA,CAzBeD,UAAU;EAAA,QAERN,WAAW;AAAA;AAAAe,EAAA,GAFbT,UAAU;AAAA,IAAAS,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}